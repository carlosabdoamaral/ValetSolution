{"ast":null,"code":"import _slicedToArray from\"/Users/carlosamaral/Library/Mobile Documents/com~apple~CloudDocs/codeverse/Untitled/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/carlosamaral/Library/Mobile Documents/com~apple~CloudDocs/codeverse/Untitled/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Container,Form}from\"semantic-ui-react\";import\"./calculator.scss\";import{useEffect,useState}from\"react\";import{StarbucksPreset}from\"../interfaces/starbucks\";import{PromenadePreset}from\"../interfaces/promenade\";import{SouthBeverlyGrillPreset}from\"../interfaces/south-beverly-grill\";import{southBeverlyGrillCalculator}from\"../utils/calculator/south-beverly-grill\";import{defaultCalculator}from\"../utils/calculator/default\";import{RenderValidations}from\"./render/validations\";import{RenderOffCanvas}from\"./render/offcanvas\";import{twoHours}from\"../utils/time\";import{RenderPresets}from\"./render/presets\";import{RenderInputs}from\"./render/inputs\";import{RenderBtns}from\"./render/buttons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function CalculatorView(){var presetsInitialState=[_objectSpread(_objectSpread({},StarbucksPreset),{},{id:0}),_objectSpread(_objectSpread({},PromenadePreset),{},{id:1}),_objectSpread(_objectSpread({},SouthBeverlyGrillPreset),{},{id:2})];var _useState=useState(presetsInitialState),_useState2=_slicedToArray(_useState,2),presets=_useState2[0],setPresets=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),mustShowOffCanvas=_useState4[0],setMustShowOffCanvas=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),startTime=_useState6[0],setStartTime=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),endTime=_useState8[0],setEndTime=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),result=_useState10[0],setResult=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),dummy=_useState12[0],setDummy=_useState12[1];var _useState13=useState(twoHours),_useState14=_slicedToArray(_useState13,2),beverlyHoursToUse=_useState14[0],setBeverlyHoursToUse=_useState14[1];var forceRerender=function forceRerender(){setDummy(!dummy);};var activatePresetByID=function activatePresetByID(id){setPresets(function(prev){return prev.map(function(p,i){return _objectSpread(_objectSpread({},p),{},{active:i===id?true:false});});});};var activateValidationByID=function activateValidationByID(id){var presetID=presets.filter(function(p){return p.active;})[0].id;var newPresetsState=presets;newPresetsState[presetID].validations[id].active=!newPresetsState[presetID].validations[id].active;setPresets(newPresetsState);forceRerender();};var getActivePreset=function getActivePreset(){return presets.filter(function(p){return p.active;})[0];};var reset=function reset(){setStartTime(\"\");setEndTime(\"\");var presetsReseted=presets.map(function(parking,i){return _objectSpread(_objectSpread({},parking),{},{active:i===0?true:false,validations:parking.validations.map(function(validation){return _objectSpread(_objectSpread({},validation),{},{active:false});})});});setPresets(presetsReseted);};var activePreset=getActivePreset();useEffect(function(){if(!!startTime&&!!endTime){if(activePreset.name===SouthBeverlyGrillPreset.name){setResult(southBeverlyGrillCalculator({parkingLot:activePreset,startTime:startTime,endTime:endTime},twoHours));}else{setResult(defaultCalculator({parkingLot:activePreset,startTime:startTime,endTime:endTime}));}}},[presets,startTime,endTime,dummy,activePreset]);useEffect(function(){setMustShowOffCanvas(false);},[presets,dummy]);return/*#__PURE__*/_jsx(Container,{className:\"calculator\",children:/*#__PURE__*/_jsxs(Form,{className:\"content\",onSubmit:function onSubmit(){setMustShowOffCanvas(true);},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ValetSolution\"}),RenderOffCanvas({result:result,setResult:setResult,startTime:startTime,endTime:endTime,beverlyHoursToUse:beverlyHoursToUse,setBeverlyHoursToUse:setBeverlyHoursToUse,getActivePreset:getActivePreset,mustShowOffCanvas:mustShowOffCanvas,setMustShowOffCanvas:setMustShowOffCanvas}),RenderPresets({presets:presets,activatePresetByID:activatePresetByID}),RenderInputs({startTime:startTime,setStartTime:setStartTime,endTime:endTime,setEndTime:setEndTime}),RenderValidations({presets:presets,activateValidationByID:activateValidationByID}),RenderBtns({reset:reset})]})});}","map":{"version":3,"names":["Container","Form","useEffect","useState","StarbucksPreset","PromenadePreset","SouthBeverlyGrillPreset","southBeverlyGrillCalculator","defaultCalculator","RenderValidations","RenderOffCanvas","twoHours","RenderPresets","RenderInputs","RenderBtns","jsx","_jsx","jsxs","_jsxs","CalculatorView","presetsInitialState","_objectSpread","id","_useState","_useState2","_slicedToArray","presets","setPresets","_useState3","_useState4","mustShowOffCanvas","setMustShowOffCanvas","_useState5","_useState6","startTime","setStartTime","_useState7","_useState8","endTime","setEndTime","_useState9","_useState10","result","setResult","_useState11","_useState12","dummy","setDummy","_useState13","_useState14","beverlyHoursToUse","setBeverlyHoursToUse","forceRerender","activatePresetByID","prev","map","p","i","active","activateValidationByID","presetID","filter","newPresetsState","validations","getActivePreset","reset","presetsReseted","parking","validation","activePreset","name","parkingLot","className","children","onSubmit"],"sources":["/Users/carlosamaral/Library/Mobile Documents/com~apple~CloudDocs/codeverse/Untitled/frontend/src/app/views/calculator.tsx"],"sourcesContent":["import { Container, Form } from \"semantic-ui-react\";\nimport \"./calculator.scss\";\nimport { useEffect, useState } from \"react\";\nimport { StarbucksPreset } from \"../interfaces/starbucks\";\nimport { PromenadePreset } from \"../interfaces/promenade\";\nimport { SouthBeverlyGrillPreset } from \"../interfaces/south-beverly-grill\";\nimport { ParkingLot } from \"../interfaces/parking-lot\";\nimport { CalculatorResult } from \"../interfaces/calculator-result\";\nimport { southBeverlyGrillCalculator } from \"../utils/calculator/south-beverly-grill\";\nimport { defaultCalculator } from \"../utils/calculator/default\";\nimport { RenderValidations } from \"./render/validations\";\nimport { RenderOffCanvas } from \"./render/offcanvas\";\nimport { twoHours } from \"../utils/time\";\nimport { RenderPresets } from \"./render/presets\";\nimport { RenderInputs } from \"./render/inputs\";\nimport { RenderBtns } from \"./render/buttons\";\n\nexport function CalculatorView() {\n  const presetsInitialState = [\n    {\n      ...StarbucksPreset,\n      id: 0,\n    },\n    {\n      ...PromenadePreset,\n      id: 1,\n    },\n    {\n      ...SouthBeverlyGrillPreset,\n      id: 2,\n    },\n  ];\n\n  const [presets, setPresets] = useState(presetsInitialState);\n  const [mustShowOffCanvas, setMustShowOffCanvas] = useState(true);\n\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n\n  const [result, setResult] = useState<CalculatorResult>();\n  const [dummy, setDummy] = useState(false);\n\n  const [beverlyHoursToUse, setBeverlyHoursToUse] = useState<number>(twoHours);\n\n  const forceRerender = () => {\n    setDummy(!dummy);\n  };\n\n  const activatePresetByID = (id: number) => {\n    setPresets((prev: ParkingLot[]) => {\n      return prev.map((p, i) => {\n        return {\n          ...p,\n          active: i === id ? true : false,\n        };\n      });\n    });\n  };\n\n  const activateValidationByID = (id: number) => {\n    const presetID = presets.filter((p) => p.active)[0].id;\n\n    const newPresetsState = presets;\n    newPresetsState[presetID].validations[id].active =\n      !newPresetsState[presetID].validations[id].active;\n\n    setPresets(newPresetsState);\n    forceRerender();\n  };\n\n  const getActivePreset = () => {\n    return presets.filter((p) => p.active)[0];\n  };\n\n  const reset = () => {\n    setStartTime(\"\");\n    setEndTime(\"\");\n\n    const presetsReseted = presets.map((parking, i) => {\n      return {\n        ...parking,\n        active: i === 0 ? true : false,\n        validations: parking.validations.map((validation) => {\n          return {\n            ...validation,\n            active: false,\n          };\n        }),\n      };\n    });\n\n    setPresets(presetsReseted);\n  };\n\n  const activePreset = getActivePreset();\n  useEffect(() => {\n    if (!!startTime && !!endTime) {\n      if (activePreset.name === SouthBeverlyGrillPreset.name) {\n        setResult(\n          southBeverlyGrillCalculator(\n            {\n              parkingLot: activePreset,\n              startTime: startTime,\n              endTime: endTime,\n            },\n            twoHours\n          )\n        );\n      } else {\n        setResult(\n          defaultCalculator({\n            parkingLot: activePreset,\n            startTime: startTime,\n            endTime: endTime,\n          })\n        );\n      }\n    }\n  }, [presets, startTime, endTime, dummy, activePreset]);\n\n  useEffect(() => {\n    setMustShowOffCanvas(false);\n  }, [presets, dummy]);\n\n  return (\n    <Container className=\"calculator\">\n      <Form\n        className=\"content\"\n        onSubmit={() => {\n          setMustShowOffCanvas(true);\n        }}\n      >\n        <h1>ValetSolution</h1>\n\n        {RenderOffCanvas({\n          result: result,\n          setResult: setResult,\n          startTime: startTime,\n          endTime: endTime,\n          beverlyHoursToUse: beverlyHoursToUse,\n          setBeverlyHoursToUse: setBeverlyHoursToUse,\n          getActivePreset: getActivePreset,\n          mustShowOffCanvas: mustShowOffCanvas,\n          setMustShowOffCanvas: setMustShowOffCanvas,\n        })}\n\n        {RenderPresets({\n          presets: presets,\n          activatePresetByID: activatePresetByID,\n        })}\n\n        {RenderInputs({\n          startTime: startTime,\n          setStartTime: setStartTime,\n          endTime: endTime,\n          setEndTime: setEndTime,\n        })}\n\n        {RenderValidations({\n          presets: presets,\n          activateValidationByID: activateValidationByID,\n        })}\n\n        {RenderBtns({ reset: reset })}\n      </Form>\n    </Container>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}