{"ast":null,"code":"var _jsxFileName = \"/Users/carlosamaral/Library/Mobile Documents/com~apple~CloudDocs/codeverse/Untitled/frontend/src/app/views/calculator.tsx\",\n  _s = $RefreshSig$();\nimport { Container, Form } from \"semantic-ui-react\";\nimport \"./calculator.scss\";\nimport { useEffect, useState } from \"react\";\nimport { StarbucksPreset } from \"../interfaces/starbucks\";\nimport { PromenadePreset } from \"../interfaces/promenade\";\nimport { SouthBeverlyGrillPreset } from \"../interfaces/south-beverly-grill\";\nimport { southBeverlyGrillCalculator } from \"../utils/calculator/south-beverly-grill\";\nimport { defaultCalculator } from \"../utils/calculator/default\";\nimport { RenderValidations } from \"./render/validations\";\nimport { RenderOffCanvas } from \"./render/offcanvas\";\nimport { twoHours } from \"../utils/time\";\nimport { RenderPresets } from \"./render/presets\";\nimport { RenderInputs } from \"./render/inputs\";\nimport { RenderBtns } from \"./render/buttons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function CalculatorView() {\n  _s();\n  const presetsInitialState = [{\n    ...StarbucksPreset,\n    id: 0\n  }, {\n    ...PromenadePreset,\n    id: 1\n  }, {\n    ...SouthBeverlyGrillPreset,\n    id: 2\n  }];\n  const [presets, setPresets] = useState(presetsInitialState);\n  const [mustShowOffCanvas, setMustShowOffCanvas] = useState(true);\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n  const [result, setResult] = useState();\n  const [dummy, setDummy] = useState(false);\n  const [beverlyHoursToUse, setBeverlyHoursToUse] = useState(twoHours);\n  const forceRerender = () => {\n    setDummy(!dummy);\n  };\n  const activatePresetByID = id => {\n    setPresets(prev => {\n      return prev.map((p, i) => {\n        return {\n          ...p,\n          active: i === id ? true : false\n        };\n      });\n    });\n  };\n  const activateValidationByID = id => {\n    const presetID = presets.filter(p => p.active)[0].id;\n    const newPresetsState = presets;\n    newPresetsState[presetID].validations[id].active = !newPresetsState[presetID].validations[id].active;\n    setPresets(newPresetsState);\n    forceRerender();\n  };\n  const getActivePreset = () => {\n    return presets.filter(p => p.active)[0];\n  };\n  const reset = () => {\n    setStartTime(\"\");\n    setEndTime(\"\");\n    const presetsReseted = presets.map((parking, i) => {\n      return {\n        ...parking,\n        active: i === 0 ? true : false,\n        validations: parking.validations.map(validation => {\n          return {\n            ...validation,\n            active: false\n          };\n        })\n      };\n    });\n    setPresets(presetsReseted);\n  };\n  const activePreset = getActivePreset();\n  useEffect(() => {\n    if (!!startTime && !!endTime) {\n      if (activePreset.name === SouthBeverlyGrillPreset.name) {\n        setResult(southBeverlyGrillCalculator({\n          parkingLot: activePreset,\n          startTime: startTime,\n          endTime: endTime\n        }, twoHours));\n      } else {\n        setResult(defaultCalculator({\n          parkingLot: activePreset,\n          startTime: startTime,\n          endTime: endTime\n        }));\n      }\n    }\n  }, [presets, startTime, endTime, dummy, activePreset]);\n  useEffect(() => {\n    setMustShowOffCanvas(false);\n  }, [presets, dummy]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"calculator\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      className: \"content\",\n      onSubmit: () => {\n        setMustShowOffCanvas(true);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"ValetSolution\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), RenderOffCanvas({\n        result: result,\n        setResult: setResult,\n        startTime: startTime,\n        endTime: endTime,\n        beverlyHoursToUse: beverlyHoursToUse,\n        setBeverlyHoursToUse: setBeverlyHoursToUse,\n        getActivePreset: getActivePreset,\n        mustShowOffCanvas: mustShowOffCanvas,\n        setMustShowOffCanvas: setMustShowOffCanvas\n      }), RenderPresets({\n        presets: presets,\n        activatePresetByID: activatePresetByID\n      }), RenderInputs({\n        startTime: startTime,\n        setStartTime: setStartTime,\n        endTime: endTime,\n        setEndTime: setEndTime\n      }), RenderValidations({\n        presets: presets,\n        activateValidationByID: activateValidationByID\n      }), RenderBtns({\n        reset: reset\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n_s(CalculatorView, \"CkHymwzVjp9iuNRx4b2m77e3308=\");\n_c = CalculatorView;\nvar _c;\n$RefreshReg$(_c, \"CalculatorView\");","map":{"version":3,"names":["Container","Form","useEffect","useState","StarbucksPreset","PromenadePreset","SouthBeverlyGrillPreset","southBeverlyGrillCalculator","defaultCalculator","RenderValidations","RenderOffCanvas","twoHours","RenderPresets","RenderInputs","RenderBtns","jsxDEV","_jsxDEV","CalculatorView","_s","presetsInitialState","id","presets","setPresets","mustShowOffCanvas","setMustShowOffCanvas","startTime","setStartTime","endTime","setEndTime","result","setResult","dummy","setDummy","beverlyHoursToUse","setBeverlyHoursToUse","forceRerender","activatePresetByID","prev","map","p","i","active","activateValidationByID","presetID","filter","newPresetsState","validations","getActivePreset","reset","presetsReseted","parking","validation","activePreset","name","parkingLot","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/carlosamaral/Library/Mobile Documents/com~apple~CloudDocs/codeverse/Untitled/frontend/src/app/views/calculator.tsx"],"sourcesContent":["import { Container, Form } from \"semantic-ui-react\";\nimport \"./calculator.scss\";\nimport { useEffect, useState } from \"react\";\nimport { StarbucksPreset } from \"../interfaces/starbucks\";\nimport { PromenadePreset } from \"../interfaces/promenade\";\nimport { SouthBeverlyGrillPreset } from \"../interfaces/south-beverly-grill\";\nimport { ParkingLot } from \"../interfaces/parking-lot\";\nimport { CalculatorResult } from \"../interfaces/calculator-result\";\nimport { southBeverlyGrillCalculator } from \"../utils/calculator/south-beverly-grill\";\nimport { defaultCalculator } from \"../utils/calculator/default\";\nimport { RenderValidations } from \"./render/validations\";\nimport { RenderOffCanvas } from \"./render/offcanvas\";\nimport { twoHours } from \"../utils/time\";\nimport { RenderPresets } from \"./render/presets\";\nimport { RenderInputs } from \"./render/inputs\";\nimport { RenderBtns } from \"./render/buttons\";\n\nexport function CalculatorView() {\n  const presetsInitialState = [\n    {\n      ...StarbucksPreset,\n      id: 0,\n    },\n    {\n      ...PromenadePreset,\n      id: 1,\n    },\n    {\n      ...SouthBeverlyGrillPreset,\n      id: 2,\n    },\n  ];\n\n  const [presets, setPresets] = useState(presetsInitialState);\n  const [mustShowOffCanvas, setMustShowOffCanvas] = useState(true);\n\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n\n  const [result, setResult] = useState<CalculatorResult>();\n  const [dummy, setDummy] = useState(false);\n\n  const [beverlyHoursToUse, setBeverlyHoursToUse] = useState<number>(twoHours);\n\n  const forceRerender = () => {\n    setDummy(!dummy);\n  };\n\n  const activatePresetByID = (id: number) => {\n    setPresets((prev: ParkingLot[]) => {\n      return prev.map((p, i) => {\n        return {\n          ...p,\n          active: i === id ? true : false,\n        };\n      });\n    });\n  };\n\n  const activateValidationByID = (id: number) => {\n    const presetID = presets.filter((p) => p.active)[0].id;\n\n    const newPresetsState = presets;\n    newPresetsState[presetID].validations[id].active =\n      !newPresetsState[presetID].validations[id].active;\n\n    setPresets(newPresetsState);\n    forceRerender();\n  };\n\n  const getActivePreset = () => {\n    return presets.filter((p) => p.active)[0];\n  };\n\n  const reset = () => {\n    setStartTime(\"\");\n    setEndTime(\"\");\n\n    const presetsReseted = presets.map((parking, i) => {\n      return {\n        ...parking,\n        active: i === 0 ? true : false,\n        validations: parking.validations.map((validation) => {\n          return {\n            ...validation,\n            active: false,\n          };\n        }),\n      };\n    });\n\n    setPresets(presetsReseted);\n  };\n\n  const activePreset = getActivePreset();\n  useEffect(() => {\n    if (!!startTime && !!endTime) {\n      if (activePreset.name === SouthBeverlyGrillPreset.name) {\n        setResult(\n          southBeverlyGrillCalculator(\n            {\n              parkingLot: activePreset,\n              startTime: startTime,\n              endTime: endTime,\n            },\n            twoHours\n          )\n        );\n      } else {\n        setResult(\n          defaultCalculator({\n            parkingLot: activePreset,\n            startTime: startTime,\n            endTime: endTime,\n          })\n        );\n      }\n    }\n  }, [presets, startTime, endTime, dummy, activePreset]);\n\n  useEffect(() => {\n    setMustShowOffCanvas(false);\n  }, [presets, dummy]);\n\n  return (\n    <Container className=\"calculator\">\n      <Form\n        className=\"content\"\n        onSubmit={() => {\n          setMustShowOffCanvas(true);\n        }}\n      >\n        <h1>ValetSolution</h1>\n\n        {RenderOffCanvas({\n          result: result,\n          setResult: setResult,\n          startTime: startTime,\n          endTime: endTime,\n          beverlyHoursToUse: beverlyHoursToUse,\n          setBeverlyHoursToUse: setBeverlyHoursToUse,\n          getActivePreset: getActivePreset,\n          mustShowOffCanvas: mustShowOffCanvas,\n          setMustShowOffCanvas: setMustShowOffCanvas,\n        })}\n\n        {RenderPresets({\n          presets: presets,\n          activatePresetByID: activatePresetByID,\n        })}\n\n        {RenderInputs({\n          startTime: startTime,\n          setStartTime: setStartTime,\n          endTime: endTime,\n          setEndTime: setEndTime,\n        })}\n\n        {RenderValidations({\n          presets: presets,\n          activateValidationByID: activateValidationByID,\n        })}\n\n        {RenderBtns({ reset: reset })}\n      </Form>\n    </Container>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}